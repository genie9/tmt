observ strategi data reduct observ taken meter nasa infrar telescop facil irtf use cshell cshell long slit echell spectrograph use circular variabl filter cvf isol singl order onto insb detector array use cvf isol å segment spectrum center region contain numer deep photospher absorpt line co bandhead well rich set predomin ch tellur absorpt featur use wavelength refer ″ slit yield typic fwhm pixel å measur arc lamp spectra correspond spectral resolv power r observ rv standard known exoplanet candid sever tauri planet host candid februari night novemb night februari night novemb night februari night begin night imag twenti flat field second integr time use continuum lamp illumin entir slit also imag number second dark frame addit imag six ar kr xe emiss line chang cvf maintain grate posit determin wavelength refer target data obtain use ″ nod pair enabl subtract sky emiss dark current detector bias integr time nod typic second fainter target took multipl contigu nod pair signal nois ratio n target vari signific depend cloud cover see guid error etc typic valu target pixel per nod posit data reduct strategi close follow describ implement entir idl first produc night master dark frame averag twenti individu dark exposur found median dark current produc night normal flat field averag flat field exposur subtract master dark frame divid mean dark subtract master flat target data first subtract nod pair creat differ imag differ imag subsequ divid normal flat field estim read nois standard deviat gaussian fit histogram pixel valu differ imag identifi locat curv spectral trace differ imag fit second order polynomi locat maximum minimum flux along dispers direct optim extract spectrum divid nod pair four equal space bin column along dispers direct within column bin construct oversampl “slit function” e distribut flux cross dispers direct first rough estim spectrum creat sum pixel column differ imag nod posit limit includ sum midpoint two nod posit detector edg area well illumin flat lamp typic pixel column nod posit next pixel bin sort distanc order center column given pixel fall flux pixel divid rough estim spectrum appropri column normal pixel go slit function estim flux offset order pixel median filter point move box flux estim oversampl pixel determin take median pixel fell given subpixel form oversampl master slit function multipl median filter general remov effect cosmic ray uncorrect bad pixel determin slit function fit master slit function three gaussian model central gaussian flank two satellit gaussian amplitud center width gaussian fit free paramet use idl implement amoeba non linear least squar nlls fit algorithm result model normal unit area algorithm produc four model slit function one bin howev actual slit function smooth vari function column number therefor smooth transit bin bin creat column slit function linear interpol four bin slit function determin total flux column spectrum calcul scale factor best match model slit function column data per recip describ order mask spurious flux level cosmic ray implement iter sigma clip algorithm algorithm start estim total nois measur read nois differenc imag plus poisson nois target subtract model fit data detector column mask pixel whose residu greater estim nois iter process time scale factor converg thus provid optim valu spectrum column larg immun hot pixel cosmic ray etc algorithm also provid estim flux uncertainti locat along spectrum
